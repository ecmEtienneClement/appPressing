{"version":3,"file":"src_app_modules_modulesParametres_info-kilo_info-kilo_module_ts.js","mappings":"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","sources":["./src/app/modules/modulesParametres/info-kilo/info-kilo-routing.module.ts","./src/app/modules/modulesParametres/info-kilo/info-kilo.module.ts","./src/app/modules/modulesParametres/info-kilo/info-kilo.page.ts","./src/app/modules/modulesParametres/info-kilo/ngrx/InfoKilo.reducer.ts","./src/app/modules/modulesParametres/info-kilo/ngrx/infosKilo.effects.ts","./src/app/modules/modulesParametres/info-kilo/services/infosKilo.data.service.ts","./src/app/modules/modulesParametres/info-kilo/services/infosKilo.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { InfoKiloPage } from './info-kilo.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InfoKiloPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InfoKiloPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { InfoKiloPageRoutingModule } from './info-kilo-routing.module';\nimport { InfoKiloPage } from './info-kilo.page';\nimport { EffectsModule } from '@ngrx/effects';\nimport { InfosKiloEffects } from './ngrx/infosKilo.effects';\nimport { StoreModule } from '@ngrx/store';\nimport { GetInfosKiloReducer } from './ngrx/InfoKilo.reducer';\nimport { NameStateEntities } from 'src/app/appState/app.state';\nimport { InfosKiloDataService } from './services/infosKilo.data.service';\nimport { InfosKiloService } from './services/infosKilo.service';\nimport { ShearedModulesModule } from 'src/app/sheared-modules/sheared-modules.module';\n\n@NgModule({\n  imports: [\n    ShearedModulesModule,\n    InfoKiloPageRoutingModule,\n    StoreModule.forFeature(\n      NameStateEntities.infosKilo,\n      GetInfosKiloReducer.getReducer\n    ),\n    EffectsModule.forFeature([InfosKiloEffects]),\n  ],\n  declarations: [InfoKiloPage],\n  providers: [InfosKiloDataService, InfosKiloService],\n})\nexport class InfoKiloPageModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { Observable, Subscription } from 'rxjs';\nimport { AppState, AppStateEnum } from 'src/app/appState/app.state';\nimport { InfoKilo } from 'src/app/models/models.interfaces';\nimport { RoutesNames } from 'src/app/routes.config';\nimport { InfosKiloActions } from './ngrx/infosKilo.actions';\nimport { InfosKiloSelectors } from './ngrx/infosKilo.selectors';\n\n@Component({\n  selector: 'app-info-kilo',\n  templateUrl: './info-kilo.page.html',\n  styleUrls: ['./info-kilo.page.scss'],\n})\nexport class InfoKiloPage implements OnInit, OnDestroy {\n  readonly routesNames = RoutesNames;\n  infoKilos: InfoKilo[];\n  updated: boolean;\n  prixLingeUpd: number;\n  prixRepassageUpd: number;\n  notification$: Observable<string> = new Observable();\n  errorMessage$: Observable<string> = new Observable();\n  dataState$: Observable<AppStateEnum> = new Observable();\n  sub: Subscription = new Subscription();\n\n  constructor(\n    private store: Store<AppState>,\n    private infoKilosActions: InfosKiloActions,\n    private infoKilosSelectors: InfosKiloSelectors\n  ) {}\n\n  ngOnInit() {\n    this.store.dispatch(this.infoKilosActions.getAllEntities()());\n    this.dataState$ = this.store.select(this.infoKilosSelectors.getDataState());\n    this.notification$ = this.store.select(\n      this.infoKilosSelectors.getNotification()\n    );\n    this.errorMessage$ = this.store.select(\n      this.infoKilosSelectors.getMessageError()\n    );\n    this.subInfosKilo();\n  }\n\n  //TODO SUBS AUX DATA INFO KILO\n  subInfosKilo() {\n    this.sub.add(\n      this.store.select(this.infoKilosSelectors.getEntities()).subscribe({\n        next: (dataInfosKilo) => {\n          if (dataInfosKilo) {\n            if (dataInfosKilo.length > 0) {\n              this.infoKilos = dataInfosKilo;\n              this.prixLingeUpd = this.infoKilos[0].prixLinge;\n              this.prixRepassageUpd = this.infoKilos[0].prixRepassage;\n            }\n          }\n        },\n      })\n    );\n  }\n\n  //TODO ON UPD\n  onUpd() {\n    this.updated = !this.updated;\n  }\n\n  //TODO ON SAVE\n  onSave() {\n    const prixL = this.infoKilos[0].prixLinge;\n    const prixR = this.infoKilos[0].prixRepassage;\n    if (this.prixLingeUpd < 100 || this.prixLingeUpd > 5000) {\n      this.store.dispatch(\n        this.infoKilosActions.errorEntities()({\n          error: 'Veillez verifier le prix du linge',\n        })\n      );\n      return false;\n    }\n    if (this.prixRepassageUpd < 100 || this.prixLingeUpd > 5000) {\n      this.store.dispatch(\n        this.infoKilosActions.errorEntities()({\n          error: 'Veillez verifier le prix du repassage',\n        })\n      );\n      return false;\n    }\n    const infoKiloUpd: InfoKilo = {\n      ...this.infoKilos[0],\n      prixLinge: this.prixLingeUpd !== prixL ? this.prixLingeUpd : prixL,\n      prixRepassage:\n        this.prixRepassageUpd !== prixR ? this.prixRepassageUpd : prixR,\n    };\n\n    this.store.dispatch(\n      this.infoKilosActions.updEntitie()({ entitie: infoKiloUpd })\n    );\n  }\n  //TODO\n  ngOnDestroy(): void {\n    this.sub.unsubscribe();\n  }\n}\n","import { Action } from '@ngrx/store';\nimport { InfoKilo } from 'src/app/models/models.interfaces';\nimport { EntitiesReducer } from 'src/app/modules/servicesModules/modules.ngrx.reducer';\nimport { InfosKiloActions } from './infosKilo.actions';\nimport { IInfosKiloState } from './infosKilo.state';\n\nclass InfosKiloReducer extends EntitiesReducer<InfoKilo, IInfosKiloState> {\n  constructor(infosKiloActions: InfosKiloActions) {\n    super(infosKiloActions, 'infos kilo');\n  }\n}\n\n//TODO GET  REDUCER  POUR LE STOOR AVEC PARTERN SINGLETON AFIN D'AVOIR UNE SEULE INSTANCE\nexport class GetInfosKiloReducer {\n  private static intanceInfosKiloReducer: InfosKiloReducer = null;\n  public static getReducer(state: IInfosKiloState, action: Action) {\n    if (GetInfosKiloReducer.intanceInfosKiloReducer == null) {\n      GetInfosKiloReducer.intanceInfosKiloReducer = new InfosKiloReducer(\n        new InfosKiloActions()\n      );\n    }\n    return GetInfosKiloReducer.intanceInfosKiloReducer.entitiesFeactureReducer()(\n      state,\n      action\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Actions } from '@ngrx/effects';\nimport { Store } from '@ngrx/store';\nimport { InfoKilo } from 'src/app/models/models.interfaces';\nimport { EntitiesEffects } from 'src/app/modules/servicesModules/modules.ngrx.effects';\nimport { InfosKiloDataService } from '../services/infosKilo.data.service';\nimport { InfosKiloService } from '../services/infosKilo.service';\nimport { InfosKiloActions } from './infosKilo.actions';\n\n@Injectable()\nexport class InfosKiloEffects extends EntitiesEffects<InfoKilo> {\n  constructor(\n    store: Store,\n    action$: Actions,\n    infosKilosActions: InfosKiloActions,\n    infosKilosDataService: InfosKiloDataService,\n    infosKilosService: InfosKiloService\n  ) {\n    super(\n      store,\n      action$,\n      infosKilosActions,\n      infosKilosDataService,\n      infosKilosService\n    );\n  }\n}\n","/* eslint-disable no-underscore-dangle */\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { NameUrlEntitiesAPI } from 'src/app/api.config';\nimport { InfoKilo } from 'src/app/models/models.interfaces';\nimport { EntitiesDataService } from 'src/app/modules/servicesModules/modules.data.service';\n\n@Injectable()\nexport class InfosKiloDataService extends EntitiesDataService<InfoKilo> {\n  constructor(httpClient: HttpClient) {\n    super(httpClient, NameUrlEntitiesAPI.infosKilo);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { EntitiesDataState } from 'src/app/modules/servicesModules/modules.entitiesDataState';\nimport { EntitiesService } from 'src/app/modules/servicesModules/modules.service';\nimport { RoutesNames } from 'src/app/routes.config';\n\n@Injectable()\nexport class InfosKiloService extends EntitiesService {\n  constructor(router: Router, entitiesDataState: EntitiesDataState) {\n    super(router, RoutesNames.infosKilo, entitiesDataState);\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}